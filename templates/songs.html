{% extends "base.html" %}
{% block content %}
<div class="card-panel">

<h2 class="mb-3">–ö–∞—Ç–∞–ª–æ–≥ –ø—ñ—Å–µ–Ω—å</h2>

{% if current_user.role=='teacher' %}
<form id="addSong" class="row g-2 mb-4">
  <div class="col-md-3"><input class="form-control" name="title" placeholder="–ù–∞–∑–≤–∞" required></div>
  <div class="col-md-3"><input class="form-control" name="author" placeholder="–ê–≤—Ç–æ—Ä" required></div>
  <div class="col-md-2">
    <select class="form-select" name="difficulty">
      {% for i in range(1,5) %}<option value="{{ i }}">{{ '‚òÖ'*i }}</option>{% endfor %}
    </select>
  </div>
  <div class="col-md-2"><button class="btn btn-success w-100">–î–æ–¥–∞—Ç–∏</button></div>
</form>
{% endif %}

<table class="table table-striped table-hover">
  <thead class="table-light">
    <tr><th>–ù–∞–∑–≤–∞</th><th>–ê–≤—Ç–æ—Ä</th><th>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</th><th style="width:80px"></th></tr>
  </thead>
  <tbody id="songTable">
    {% for s in songs %}
    <tr id="song-{{ s.id }}">
      <td>{{ s.title }}</td><td>{{ s.author }}</td><td>{{ '‚òÖ'*s.difficulty }}</td>
      <td>
        {% if current_user.role=='teacher' %}
          <button class="btn btn-sm btn-outline-secondary me-1 edit-song"
                  onclick="alert('TODO: —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è');">‚úé</button>
          <button class="btn btn-sm btn-outline-danger del-song"
                  data-id="{{ s.id }}">üóë</button>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

</div>
<script src="{{ url_for('static', filename='app.js') }}" defer></script>
{% endblock %}
